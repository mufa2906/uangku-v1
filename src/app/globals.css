@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 220 80% 1.5%; /* Much darker text for better contrast */

    --muted: 210 40% 94%; /* Slightly darker background */
    --muted-foreground: 215 25% 27%; /* Higher contrast muted text */

    --popover: 0 0% 100%;
    --popover-foreground: 220 80% 1.5%; /* Consistent with main text */

    --card: 0 0% 100%;
    --card-foreground: 220 80% 1.5%; /* Consistent with main text */

    --border: 210 30% 85%; /* Slightly darker borders */
    --input: 210 30% 85%; /* Consistent with borders */

    --primary: 220 80% 20%; /* Darker primary for more contrast */
    --primary-foreground: 0 0% 100%; /* Pure white for text on primary */

    --secondary: 210 35% 90%; /* Slightly more contrast */
    --secondary-foreground: 220 80% 20%; /* Darker text on secondary */

    --accent: 210 35% 90%; /* Slightly more contrast */
    --accent-foreground: 220 80% 20%; /* Darker text on accent */

    --destructive: 0 90% 45%; /* More vibrant red for better visibility */
    --destructive-foreground: 0 0% 100%; /* White text on destructive */

    --ring: 210 60% 45%; /* More visible ring color */

    --radius: 0.5rem;
  }

  .dark {
    --background: 220 60% 2.5%; /* Slightly lighter dark background */
    --foreground: 210 20% 98%; /* Slightly less bright white */

    --muted: 217 25% 20%; /* Slightly lighter muted bg */
    --muted-foreground: 215 35% 75%; /* Slightly more vibrant muted text */

    --popover: 220 60% 2.5%; /* Consistent with background */
    --popover-foreground: 210 20% 98%; /* Consistent with foreground */

    --card: 220 60% 2.5%; /* Consistent with background */
    --card-foreground: 210 20% 98%; /* Consistent with foreground */

    --border: 217 25% 20%; /* Consistent with muted */
    --input: 217 25% 15%; /* Slightly darker input background */

    --primary: 210 65% 92%; /* Lighter primary for dark mode */
    --primary-foreground: 220 60% 2.5%; /* Dark text on light primary */

    --secondary: 217 25% 15%; /* Darker secondary background */
    --secondary-foreground: 210 40% 95%; /* Brighter text on secondary */

    --accent: 217 25% 15%; /* Darker accent background */
    --accent-foreground: 210 40% 95%; /* Brighter text on accent */

    --destructive: 0 80% 65%; /* Lighter red for dark mode */
    --destructive-foreground: 220 60% 2.5%; /* Dark text on destructive */

    --ring: 210 60% 80%; /* Lighter ring for dark mode */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* Accessibility styles */
.high-contrast {
  /* Increased contrast color scheme */
  --background: 0 0% 100%;
  --foreground: 0 0% 0%;
  --muted: 0 0% 85%;
  --muted-foreground: 0 0% 0%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --border: 0 0% 0%;
  --input: 0 0% 0%;
  --primary: 0 0% 0%;
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 85%;
  --secondary-foreground: 0 0% 0%;
  --accent: 0 0% 0%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 85% 20%;
  --destructive-foreground: 0 0% 100%;
  --ring: 0 0% 0%;

  /* Enhanced focus indicators */
  *:focus {
    outline-width: 2px;
    outline-style: solid;
    outline-offset: 2px;
  }
}

.high-contrast .dark {
  /* Dark mode high contrast */
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --muted: 0 0% 15%;
  --muted-foreground: 0 0% 100%;
  --card: 0 0% 0%;
  --card-foreground: 0 0% 100%;
  --border: 0 0% 100%;
  --input: 0 0% 100%;
  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 15%;
  --secondary-foreground: 0 0% 100%;
  --accent: 0 0% 100%;
  --accent-foreground: 0 0% 0%;
  --destructive: 0 100% 80%;
  --destructive-foreground: 0 0% 0%;
  --ring: 0 0% 100%;
}

.reduce-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

/* Keyboard navigation focus indicators */
.keyboard-navigation button:focus,
.keyboard-navigation input:focus,
.keyboard-navigation select:focus,
.keyboard-navigation textarea:focus,
.keyboard-navigation a:focus,
.keyboard-navigation [tabindex]:focus {
  outline-width: 2px;
  outline-style: solid;
  outline-offset: 2px;
  outline-color: hsl(220, 80%, 20%);
  border-radius: var(--radius);
  position: relative;
}

.keyboard-navigation button:focus:not(:focus-visible),
.keyboard-navigation input:focus:not(:focus-visible),
.keyboard-navigation select:focus:not(:focus-visible),
.keyboard-navigation textarea:focus:not(:focus-visible),
.keyboard-navigation a:focus:not(:focus-visible),
.keyboard-navigation [tabindex]:focus:not(:focus-visible) {
  outline: none;
}

.keyboard-navigation button:focus-visible,
.keyboard-navigation input:focus-visible,
.keyboard-navigation select:focus-visible,
.keyboard-navigation textarea:focus-visible,
.keyboard-navigation a:focus-visible,
.keyboard-navigation [tabindex]:focus-visible {
  outline-width: 2px;
  outline-style: solid;
  outline-offset: 2px;
  outline-color: hsl(220, 80%, 20%);
  border-radius: var(--radius);
  position: relative;
}

/* Ensure sufficient touch target sizes */
.reduce-motion,
.high-contrast {
  button,
  a,
  input,
  select,
  textarea {
    min-height: 44px;
    min-width: 44px;
    padding: 8px 12px !important;
  }
}